{
 "absolute_value": 0,
 "align_labels_right": 0,
 "creation": "2023-01-20 11:32:07.652070",
 "css": ".main{\n    border:1px solid black;\n    margin-top:4px;\n}\ntable.headertable td {\n\tborder-right:1px solid black;\n\tborder-bottom:1px solid black;\n\tfont-size:10px;\n\tpadding: 0px!important; border-spacing: 0!important;  margin:0!important; height:0!important;padding-left: 2px!important;padding-right: 1.5px!important;\n}\ntable.itemtable td {\n\tborder-right:1px solid black;\n\tborder-bottom:1px solid black;\n\tfont-size:10px;\n\tpadding: 0px!important; border-spacing: 0!important;  margin:0!important; height:0!important;padding-left: 2px!important;padding-right: 1.5px!important;\n}\ntable.itemtable th, tfoot {\n\tfont-size:10px;\n\tborder-right:1px solid black;\n\tbackground-color:#c9ddf5!important;\n\ttext-align:center;\n\tpadding: 0px!important; border-spacing: 0!important;  margin:0!important; height:0!important;padding-left: 2px!important;padding-right: 1.5px!important;\n}\n.foot{\n    margin-top:4px;\n}\ntable.headertable td{\n    padding:3px !important;\n}\ntable.itemtable td{\n    padding:3px !important;\n}\ntable.itemtable th{\n    padding:3px !important;\n}\n",
 "custom_format": 1,
 "default_print_language": "en-US",
 "disabled": 0,
 "doc_type": "Sales Invoice",
 "docstatus": 0,
 "doctype": "Print Format",
 "font": "Default",
 "html": "<style>\n    .print-format table, .print-format tr, \n  .print-format td {\n    vertical-align: middle;\n    font-size:10px;\n    padding: .5!important; \n    border-spacing: 0!important;  \n    margin:0!important;\n  }\n</style>\n{%- macro printMode(mode) %}\n<div style=\"margin-top:2px!important;\">\n    TAX INVOICE &nbsp; <span style=\"border:1px solid gray; color:gray; padding:1px;padding-top:2px;\">{{mode|upper}}</span>\n</div>\n<div class=\"main\">\n   <table class=\"headertable\" style=\"width:100%\">\n       <tr>\n            <td style=\"width:50%\">\n               <div style=\"float:left\">\n                   <img src=\"/files/cycle world.jpg\" style=\"width:80px;height:80px;\">\n               </div>\n               <div style=\"float:left;font-size:10px!important;padding-left:5px\">\n                    {% set company = frappe.get_doc('Company',doc.company) %}\n                    {% if doc.branch %}\n                        {% set address = frappe.get_all(\n                        \t\t\t\"Dynamic Link\",\n                        \t\t\tfields=[\"link_doctype\",\"link_name\",\"link_title\",\"parent\"],\n                        \t\t\tfilters={\"link_doctype\": \"Branch\", \"link_name\": doc.branch},\n                        \t\t\tlimit = 1\n                        \t\t) %}\n                    {% elif doc.company%}\n                        {% set address = frappe.get_all(\n                        \t\t\t\"Dynamic Link\",\n                        \t\t\tfields=[\"link_doctype\",\"link_name\",\"link_title\",\"parent\"],\n                        \t\t\tfilters={\"link_doctype\": \"Company\", \"link_name\": doc.company},\n                        \t\t\tlimit = 1\n                        \t\t) %}\n                    {% endif %}\n                    {% if address %}\n                    {% set add = frappe.get_doc(\"Address\",address[0].parent) %}\n                        {% if add %}\n                                <p><span style=\"color:#1c4c99;font-weight:bold;font-size:15px;\">{{doc.branch or \"\"}} {{doc.company}}</span><br>\n                                {{add.address_line1 or \"\"}}<br>\n                                {{add.address_line2 or \"\"}}<br>\n                                {{add.city or \"\"}}-{{add.pincode or \"\"}},{{add.gst_state or \"\"}}, Code: {{add.gst_state_number or \"\"}}<br>\n                                GSTIN/UIN: {{add.gstin or ''}}<br>\n                                <b>E-Mail</b>: {{add.email_id or \"\"}}<br><b>Mobile</b>: {{add.phone or \"\"}}\n                                </p>\n                        {% endif %}\n                    {% endif %}\n                    {% if doc.shipping_address_name %}\n                        {% set ship_add = frappe.get_doc(\"Address\",doc.shipping_address_name) %}\n                    {% endif %}\n               </div>\n           </td>\n           <td style=\"width:50%;border-right:none;\">\n               <span style=\"float:left;\"><b>Invoice No</b>: {{doc.name or \"\"}}</span><span style=\"float:right;\"> <b>Invoice Date</b>: {{doc.get_formatted(\"posting_date\")}}</span>\n           </td>\n       </tr>\n       <tr>\n           <td>\n               BILL To<br><b>{{doc.customer_name}}</b><br>Mobile : {{doc.contact_mobile or \"\"}}\n           </td>\n           <td style=\"border-right:none;\">\n               SHIP To<br><b>{{doc.customer_name}}</b>{% if doc.shipping_address_name %}<br>{{ship_add.address_line1 or \"\"}}, {{ship_add.address_line2 or \"\"}} <br>\n               {{ship_add.city or \"\"}} - {{ship_add.pincode or \"\"}}{% endif %}\n           </td>\n       </tr>\n   </table>\n   <table class=\"itemtable\" style=\"width:100%\">\n       <thead>\n           <tr style=\"border-bottom:1px solid black;\">\n               <th style=\"width:5%\">S.No</th>\n               <th style=\"width:25%\">ITEMS</th>\n               <th style=\"width:5%\">QTY.</th>\n               <th style=\"width:10%\">RATE</th>\n               <th style=\"width:15%\">HSN Code</th>\n               <th style=\"border-right:none;width:10%;\">AMOUNT</th>\n            </tr>\n        </thead>\n        <tbody>\n        {% set idx = []%}\n        {% set services = [] %}\n        {% set services_total = []%}\n        {% set service_qty = [] %}\n        {% for item in doc.items %}\n        {% if item.item_group == 'Services' %}\n            {% set _ = services.append(item) %}\n            {% set _ = services_total.append(item.amount) %}\n            {% set _ = service_qty.append(item.qty) %}\n        {% else %}\n        <tr>\n            {% set _=idx.append(idx|length+1) %}\n            <td style=\"border-bottom:none;\">{{idx|length }}</td>\n            <td style=\"border-bottom:none;\">{{ item.item_name }}</td>\n            <td style=\"border-bottom:none;\" align=\"right\">{{ item.qty|int or \"\" }} {{item.uom}}</td>\n            <td style=\"border-bottom:none;\" align=\"right\">{{ item.get_formatted(\"rate\") or \"\" }}</td>\n            <td style=\"border-bottom:none;\" align=\"right\">{{ item.gst_hsn_code or \"\"}}</td> \n            <td style=\"border-right:none;border-bottom:none;\" align=\"right\">{{ item.get_formatted(\"amount\") }}</td>\n        </tr>\n        {% endif %}\n        {% endfor %}\n        {% for i in range(8-doc.items|length) %}\n        <tr style=\"height:10px;\">\n            <td style=\"border-bottom:none;\"> </td>\n            <td style=\"border-bottom:none;\"> </td>\n            <td style=\"border-bottom:none;\" align=\"right\"> </td>\n            <td style=\"border-bottom:none;\" align=\"right\"> </td>\n            <td style=\"border-bottom:none;\" align=\"right\"> </td> \n            <td style=\"border-right:none;border-bottom:none;\" align=\"right\"> </td>\n        </tr>\n        {% endfor %}\n        <!--<tr>-->\n        <!--   <td style=\"width:5%;\"></td>-->\n        <!--   <td style=\"width:20%\" align=\"right\"></td>-->\n        <!--   <td style=\"width:5%\" align=\"right\"></td>-->\n        <!--   <td style=\"width:10%\" align=\"right\"></td>-->\n        <!--   <td style=\"width:10%\"></td>-->\n        <!--   <td style=\"border-right:none;background-color:#c9ddf5!important;\" align=\"right\">{{ \"%.2f\"|format(doc.total - services_total|sum) }}</td>-->\n        <!--</tr>-->\n        {% for i in services %}\n         <tr style=\"border-top:1px solid black;\">\n            <td style=\"width:5%;\"></td>\n            <td colspan=\"4\" align=\"right\">{{i.item_name}}</td>\n            <td style=\"border-right:none;\" align=\"right\">{{i.get_formatted('amount')}}</td>\n        </tr>\n        {% endfor %}\n        {% for i in doc.tax_table_print_format %}\n        <tr style=\"border-top:1px solid black;\">\n            <td></td>\n            <td colspan=\"4\" align=\"right\" style=\"padding:3px !important;border:none !important;\">{{i.description}} @ {{i.percent}}</td>\n            <td style=\"border-right:none;padding:3px !important;\" align=\"right\">{{ i.get_formatted(\"tax_amount\") }}</td>\n        </tr>\n        {% endfor %}\n        </tbody>\n        <tfoot style=\"border-right:none;\">\n            <tr style=\"border-top:1px solid black;\">\n               <td></td>\n               <td style=\"border-right:none;\" align=\"right\">TOTAL</td>\n               <td style=\"border-right:none;\" align=\"center\">{{(doc.total_qty - service_qty|sum)|int}}</td>\n               <td style=\"border-right:none;\" align=\"right\"></td>\n               <td style=\"border-right:none;\" ></td>\n               <td style=\"border-right:none;\" align=\"right\">{{ doc.get_formatted(\"rounded_total\") }}</td>\n            </tr>\n        </tfoot>\n   </table>\n   <div class=\"foot\">\n       <table class=\"headertable\" style=\"width:100%\">\n           <tr style=\"border-top:1px solid black;\">\n               <td style=\"width:50%\">\n                   Received Amount: {{doc.paid_amount-(doc.change_amount or 0)}}\n               </td>\n               <td style=\"width:50%;border-right:none;\">\n                   Balance Amount: {{doc.get_formatted(\"outstanding_amount\") or 0}}\n               </td>\n           </tr>\n           <tr>\n               {% if doc.show_qr %}\n               <td style=\"width:50%;border-bottom:none;\">\n                   <div style=\"float:left\">\n                       <b>Payment QR Code</b><br>\n                       PhonePe / Google Pay / PayTM<br>\n                       UPI ID:<br>\n                       {{doc.upi_id}}<br>\n                   </div>\n                   <div style=\"float:right\">\n                       <img src=\"{{doc.qr_code}}\" width=\"100px\" height=\"100px\" >\n                   </div>\n               </td>\n               {% endif %}\n               <td style=\"width:50%;border-right:none;border-bottom:none;\">\n                    <p>\n                        Terms & Conditions\n                    </p>\n                    {{doc.terms or \"\"}}\n               </td>\n           </tr>\n       </table>\n   </div>\n</div>\n<div class='page-break'></div>\n{%- endmacro %}        \n   \n{%- set mode = frappe.get_meta('Sales Invoice').get_field('ts_invoice_copy').options.split('\\n')%}\n{% set mode_reached = [False] %}\n{% for copy in mode  %}\n\n    {% if mode_reached|len == 1%}\n        {{- printMode(copy) }}\n    {% endif %}\n    \n    {% if doc.ts_invoice_copy == copy %}\n        {% set _ = mode_reached.append(True) %}\n\n    {% endif %}\n{% endfor %}",
 "idx": 0,
 "line_breaks": 0,
 "modified": "2023-03-07 15:28:10.412697",
 "modified_by": "Administrator",
 "module": "Cycle World",
 "name": "POS Tax Invoice (B2B)",
 "owner": "Administrator",
 "print_format_builder": 0,
 "print_format_type": "Jinja",
 "raw_printing": 0,
 "show_section_headings": 0,
 "standard": "Yes"
}