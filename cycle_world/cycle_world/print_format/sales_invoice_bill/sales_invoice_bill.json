{
 "absolute_value": 0,
 "align_labels_right": 0,
 "creation": "2023-01-13 10:44:08.474238",
 "css": ".payment{\n    border:1px solid #b6b6b8;\n    line-height: 1.6;\n}",
 "custom_format": 1,
 "default_print_language": "en-US",
 "disabled": 0,
 "doc_type": "Sales Invoice",
 "docstatus": 0,
 "doctype": "Print Format",
 "font": "Default",
 "html": "<style>\n\ntr div { height: 5px; }\n\n  .print-format table, .print-format tr, \n  .print-format td, .print-format div, .print-format p {\n    font-family: Arial;\n    line-height: 13px;\n    vertical-align: middle;\n    font-size:10px;\n    padding: 1!important; \n    border-spacing: 0!important;  \n    margin:0!important;\n  }\n    .print-format .totalpaid{\n\theight: 0px !important;\n\tpadding: 0px !important;\n\ttext-align:center;\n\tvertical-align: middle!important;\n    }\n    .print-format .right{\n\theight: 0px !important;\n\tpadding: 0px !important;\n\ttext-align:right;\n\tvertical-align: middle!important;\n    }\n  \n  @media screen {\n    .print-format {\n      width: 3in;\n      padding: 0.10in;\n      min-height: 6in;\n    }\n  }\ntable, th, td {\n  /*border: 1px solid black;*/\n  border-collapse: collapse;\n}\nth, td {\n  padding: 5px;\n  text-align: left;\n}\n</style>\n{%- macro printMode(mode) %}\n<div>\n    <p style=\"font-size:12px;font-weight:bold;text-align:center\">{{doc.company or doc.branch}}</p>\n    \n    {% set company = frappe.get_doc('Company',doc.company) %}\n    {% if doc.branch %}\n        {% set address = frappe.get_all(\n        \t\t\t\"Dynamic Link\",\n        \t\t\tfields=[\"link_doctype\",\"link_name\",\"link_title\",\"parent\"],\n        \t\t\tfilters={\"link_doctype\": \"Branch\", \"link_name\": doc.branch},\n        \t\t\tlimit = 1\n        \t\t) %}\n    {% elif doc.company%}\n        {% set address = frappe.get_all(\n        \t\t\t\"Dynamic Link\",\n        \t\t\tfields=[\"link_doctype\",\"link_name\",\"link_title\",\"parent\"],\n        \t\t\tfilters={\"link_doctype\": \"Company\", \"link_name\": doc.company},\n        \t\t\tlimit = 1\n        \t\t) %}\n    {% endif %}\n    {% if address %}\n    {% set add = frappe.get_doc(\"Address\",address[0].parent) %}\n    <div align=\"center\">\n        {% if add %}\n            <div>\n                <p>{{\"Cycle World\"}}<br>\n                {{add.address_line1 or \"\"}}<br>\n                {{add.address_line2 or \"\"}}<br>\n                {{add.city or \"\"}}-{{add.pincode or \"\"}}<br>\n                GSTIN/UIN: {{add.gstin or ''}}<br>\n                State Name: {{add.gst_state or \"\"}}, Code: {{add.gst_state_number or \"\"}}<br>\n                E-Mail: {{add.email_id or \"\"}}\n                </p>\n            </div>\n        {% endif %}\n    </div>\n    {% endif %}\n    <p style=\"font-size:12px;font-weight:bold;text-align:center\">POS INVOICE</p>\n    <div style = \"width:100%;\">\n        <div style = \"width:60%;float:left\">\n            <table>\n                <tr>\n                    <td class=\"header_class\">\n                        Bill no\n                    </td>\n                    <td>\n                        :{{doc.name}}\n                    </td>\n                </tr>\n                <tr>\n                    <td class=\"header_class\">\n                        Date\n                    </td>\n                    <td>\n                        :{{doc.get_formatted(\"posting_date\")}}\n                    </td>\n                </tr>\n                <tr>\n                    <td>\n                        Buyer(Bill To)\n                    </td>\n                    <td>\n                        :{{doc.customer_name}}\n                    </td>\n                </tr>\n                <tr>\n                    <td>\n                        Mob\n                    </td>\n                    <td>\n                        :{{doc.contact_mobile or \"\"}}\n                    </td>\n                </tr>\n            </table>\n        </div>\n        <div style = \"width:40%;float:right\">\n            <table>\n                <tr>\n                    <td class=\"header_class\">\n                        Time\n                    </td>\n                    <td>\n                        :{{doc.get_formatted(\"posting_time\")}}\n                    </td>\n                </tr>\n                <tr>\n                    <td class=\"header_class\">\n                        User\n                    </td>\n                    <td>\n                        :{{doc.pos_profile or \"\"}}\n                    </td>\n                </tr>\n                <tr>\n                    <td>\n                       Sales Man\n                    </td>\n                    <td>\n                        :{% if doc.sales_team %}{{doc.sales_team[0].sales_person or \"\"}}{% endif %}\n                    </td>\n                </tr>\n                \n            </table>\n        </div>\n    </div>\n    <table style=\"width:100%; font-size:10px;\">\n        <tr style=\"border-top: 1px solid black; border-bottom: 1px solid black;\">\n            <td class=\"totalpaid\" style=\"width:5%;\">SI </td>\n            <td style=\"width:43%;\">Description</td>\n            <td class=\"totalpaid\" style=\"width:18%;\">HSN/SAC</td>\n            <td class=\"totalpaid\" style=\"width:7%;\">Qty</td>\n            <td class=\"totalpaid\" style=\"width:7%;\">Disc. %</td>\n            <td class=\"right\" style=\"width:20%;\">Amount</td>\n        </tr>\n        {%set tax = []%}\n        {% set services = [] %}\n        {% set services_total = []%}\n        {% set service_qty = [] %}\n        {% for item in doc.items %}\n        {% if item.item_group == 'Services' %}\n            {% set _ = services.append(item) %}\n            {% set _ = services_total.append(item.amount) %}\n            {% set _ = service_qty.append(item.qty) %}\n        {% else %}\n        <tr>\n            <td class=\"totalpaid\">{{loop.index - services|len}}</td>\n            <td>{{ item.item_name }}</td>\n            <td class=\"right\">{{ item.gst_hsn_code or \"\"}}</td>\n            <td class=\"totalpaid\">{{item.qty|int}}</td> \n            <td class=\"totalpaid\">{{ \"%.2f\"|format(100-((item.price_list_rate - item.discount_amount)/item.price_list_rate)*100) }}</td> \n            <td class=\"right\">{{ item.get_formatted('amount') }}</td> \n        </tr>\n        {% endif %}\n        {% endfor %}\n        \n        <tr>\n            <td class=\"right\" colspan=\"5\"></td>\n            <td class=\"right\" style=\"border-top: 1px solid black;border-bottom: 1px solid black;\" >{{ doc.total - services_total|sum }}</td>\n        </tr>\n        {% for i in services %}\n         <tr>\n            <td class=\"right\" colspan=\"5\">{{i.item_name}} </td>\n            <td class=\"right\" >{{ i.get_formatted('amount') }}</td>\n        </tr>\n        {% endfor %}\n        {% for i in doc.tax_table_print_format %}\n        <tr>\n            <td class=\"right\" colspan=\"5\">{{i.description}} @ {{i.percent}}</td>\n            <td class=\"right\"  style='padding-left:5px !important;'>{{ i.get_formatted('tax_amount') }}</td>\n        </tr>\n        {% endfor %}\n        <tr style=\"border-top: 1px solid black; border-bottom: 1px solid black;\" >\n            <td class=\"totalpaid\" colspan=\"4\">Total</td>\n            <td class=\"totalpaid\" >{{ doc.total_qty|int - service_qty|sum }}</td>\n            <td class=\"right\" ><b>{{ doc.get_formatted('rounded_total') }}</b></td>\n        </tr>\n    </table>\n    <table style=\"width:100%;\">\n        <!--<tr style=\"border-bottom: 1px solid black;\">-->\n        <!--    <td style=\"width:30%;\">Credit/debit</td>-->\n        <!--    <td style=\"width:70%;\">{{ doc.paid_amount }}</td>-->\n        <!--</tr>-->\n        <tr style=\"border-bottom: 1px solid black;\">\n            <td style=\"width:30%;\">Total Paid</td>\n            <td style=\"width:70%;\">{{ doc.paid_amount-(doc.change_amount or 0) }}</td>\n        </tr>\n    </table>\n    {% if doc.terms %}\n    <div >\n        <p>\n            Terms & Conditions\n        </p>\n        {{doc.terms or \"\"}}\n    </div>\n    {% endif %}\n    {% if doc.show_qr %}\n    <div class='payment' style='display:flex'>\n        <div style='float:left;line-height: 3;padding-left:2px;'>\n            <b>Payment QR Code</b>\n            <p>PayTM/PhonePe/Google Pay</p>\n            <p>UPI ID:</p>\n            <p>{{doc.upi_id}}</p>\n        </div>\n        <div style='float:right;padding-left:.5in !important;'>\n            <img src='{{doc.qr_code}}' alt='Unable to Load QR. Pay with UPI ID' height=75 width=75>\n        </div>\n    </div>\n    <br>\n    {% endif %}\n    <div>\n        <p ALIGN=\"CENTER\">\n            THANK YOU<br>\n            PLEASE VISIT AGAIN\n        </p>\n    </div>\n</div>\n<div class='page-break'></div>\n{%- endmacro %}        \n   \n{%- set mode = frappe.get_meta('Sales Invoice').get_field('ts_invoice_copy').options.split('\\n')%}\n{% set mode_reached = [False] %}\n{% for copy in mode  %}\n\n    {% if mode_reached|len == 1%}\n        {{- printMode(copy) }}\n    {% endif %}\n    \n    {% if doc.ts_invoice_copy == copy %}\n        {% set _ = mode_reached.append(True) %}\n\n    {% endif %}\n{% endfor %}",
 "idx": 0,
 "line_breaks": 0,
 "modified": "2023-03-11 17:38:16.424583",
 "modified_by": "Administrator",
 "module": "Cycle World",
 "name": "Sales Invoice Bill",
 "owner": "Administrator",
 "print_format_builder": 0,
 "print_format_type": "Jinja",
 "raw_printing": 0,
 "show_section_headings": 0,
 "standard": "Yes"
}